include {
  path = find_in_parent_folders()
}

locals {
  common_vars = read_terragrunt_config(find_in_parent_folders("prod.hcl"))
  params      = local.common_vars.locals.common_parameters
  environment = local.common_vars.locals.environment_name
  tags        = local.common_vars.locals.common_tags
}

terraform {
  source = "../../../../../../modules/aws/wafv2-ip-set///"
}

inputs = {
  name = "windows-qa-test-instances"

  scope              = "CLOUDFRONT"
  ip_address_version = "IPV4"

  # Test instances IP Addresses. They are running on Tamata's AWS account.
  addresses = [
    "3.122.122.93/32",
    "18.197.252.1/32",
    "3.125.74.62/32",
    "18.192.79.123/32",
    "18.192.199.159/32",
    "3.66.160.246/32",
    "3.121.65.217/32",
    "3.127.190.68/32",
    "18.194.113.4/32",
    "3.124.127.104/32",
    "18.198.113.108/32",
    "3.121.51.132/32",
    "18.193.201.121/32",
    "3.69.190.192/32",
    "3.68.50.67/32",
    "3.122.147.174/32",
    "3.64.189.254/32",
    "3.127.105.117/32",
    "3.64.234.242/32",
    "18.158.20.202/32",
    "3.65.120.68/32",
    "3.125.23.66/32",
    "18.157.217.31/32",
    "3.66.241.40/32",
    "18.192.235.110/32",
    "18.185.225.39/32",
    "3.69.100.255/32",
    "3.69.17.28/32",
    "3.126.77.238/32",
    "52.28.179.33/32",
    "3.127.201.93/32",
    "18.159.189.51/32",
    "18.194.84.48/32",
    "3.70.75.29/32",
    "18.197.34.31/32",
    "18.198.181.151/32",
    "52.29.71.84/32",
    "3.127.113.8/32",
    "3.68.22.82/32",
    "18.157.65.152/32",
    "35.156.200.146/32",
    "18.159.237.165/32",
    "18.192.149.106/32",
    "18.158.130.109/32",
    "18.156.111.204/32"
  ]

  tags = local.tags
}
